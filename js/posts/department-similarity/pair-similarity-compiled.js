'use strict';d3.csv('/datasets/department-similarity/pair-similarity.csv',function(a,b){b.forEach(function(h){h.score=+h.score});var c='Anthropology',f='Mathematics',g=d3.set();b.forEach(function(h){g.add(h.subject1),g.add(h.subject2)}),g=g.values().sort(),d3.select('#pick-subject1').on('change',function(){return pickPairSubjects(b)}).selectAll('option').data(g).enter().append('option').property('selected',function(h){return h==c}).text(function(h){return h}),d3.select('#pick-subject2').on('change',function(){return pickPairSubjects(b)}).selectAll('option').data(g).enter().append('option').property('selected',function(h){return h==f}).text(function(h){return h}),renderText(c,f,b)});function pickPairSubjects(a){var b=d3.select('#pick-subject1').property('value'),c=d3.select('#pick-subject2').property('value');renderText(b,c,a)}function renderText(a,b,c){var f=c.filter(function(g){return g.subject1==a&g.subject2==b|g.subject1==b&g.subject2==a});d3.select('#pair-similarity-score').datum(f[0]).text(function(g){return a==b?'~':g.score}),d3.select('#pair-similarity-label').datum(f[0]).text(function(){return a==b?'Pick 2 different departments to compare':'Similarity Score'})}